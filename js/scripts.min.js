var App={};App.core=function(t,e,n,r){function i(t){if(!S){var e={};n.extend(e,t),S=!0}}function u(){S=!1}function o(){return R}function s(){return I}function l(t){if(D(t))for(;t.length>0;)t.pop()}function a(t){return t===!0||t===!1||E(t)&&F.call(t)===C.BOOLEAN}function f(t){return y(t)&&k.FLOAT.test(""+t)}function c(t){return v(t)&&F.call(t)===C.FUNCTION}function p(t){return y(t)&&k.INTEGER.test(""+t)}function d(t){return t instanceof n}function g(t){return d(t)&&0!==t.length}function m(t){return null!==t}function h(t){return null===t}function N(t){return h(t)||_(t)}function y(t){return"number"==typeof t||E(t)&&F.call(t)===C.NUMBER}function v(t){var e=typeof t;return!!t&&("object"===e||"function"===e)}function E(t){return!!t&&"object"==typeof t}function T(t){return"string"==typeof t||F.call(t)===C.STRING}function O(t){return T(t)&&k.FLOAT.test(t)}function b(t){return T(t)&&k.INTEGER.test(t)}function A(t){return T(t)&&(k.FLOAT.test(t)||k.INTEGER.test(t))}function _(t){return t===r}function w(t,e){return y(t)&&y(e)?Math.floor(Math.random()*e+t):0}var I="1.0.0",R="SoftwareSpot",S=!1,C={BOOLEAN:"[object Boolean]",FUNCTION:"[object Function]",NUMBER:"[object Number]",STRING:"[object String]"},j=Object.prototype,F=j.toString,k={FLOAT:/(?:^-?\d+\.\d+$)/,INTEGER:/(?:^-?\d+$)/},D=Array.isArray;return n(function(){i({})}),{init:i,destroy:u,getAppName:o,getVersion:s,arrayClear:l,isArray:D,isBoolean:a,isFloat:f,isFunction:c,isInteger:p,isjQuery:d,isjQueryNotEmpty:g,isNotNull:m,isNull:h,isNullOrUndefined:N,isNumber:y,isObject:v,isString:T,isStringFloat:O,isStringInteger:b,isStringNumber:A,isUndefined:_,randomNumber:w}}(this,this.document,this.jQuery),App.api=function(t,e,n){function r(t){if(!f){var e={};n.extend(e,t),o(),s(),f=!0}}function i(){c=null,f=!1}function u(){return l}function o(){c=n(e)}function s(){NProgress.configure({minimum:.1,showSpinner:!1}),c.ajaxStart(function(){NProgress.start()}),c.ajaxStop(function(){NProgress.done()})}var l="1.0.0",a={OK:200,CREATED:201,NO_CONTENT:204,NOT_MODIFIED:304,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,CONFLICT:409,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501},f=!1,c=null;return n(function(){r({})}),{init:r,destroy:i,getVersion:u,HTTP:a}}(this,this.document,this.jQuery,App.core),App.weight=function(t,e,n,r,i){function u(t){if(!N){var e={};n.extend(e,t),C=t.data_id,j=t.templates.weight_list,l(t.dom),a(),R.prop("disabled",!0),R.addClass("red"),S.hide(),v=O.get(),v.length>0&&(E=v[v.length-1].id),E++,d(v),N=!0}}function o(){f(),b=null,A=null,_=null,_=null,I=null,R=null,S=null,r.arrayClear(v),N=!1}function s(){return m}function l(t){b=n(e),A=n(t.weight_list),_=n(t.forms.weight),w=_.find('input[type="text"]'),I=_.find('[type="reset"]'),R=_.find('input[type="submit"]'),S=n(t.weight_list_error)}function a(){y&&f(),b.on(T.remove,"["+C+"]",T.removal),_.on(T.submit,T.submission),w.on(T.keyup,T.keyRelease),I.on(T.reset,T.destroy),y=!0}function f(){y&&(b.off(T.remove,"["+C+"]",T.removal),_.off(T.submit,T.submission),w.off(T.keyup,T.keyRelease),I.off(T.reset,T.destroy),y=!1)}function c(t){r.isNumber(t)||(t=parseFloat(t)),v.push({id:E,value:t,time:moment().unix(),username:"User "+E}),E++}function p(t){r.isNumber(t)||(t=parseInt(t));for(var e=0,n=v.length;n>e;e++){var i=v[e];if(i.id===t){v.splice(e,1);break}}}function d(t){A.handlebars("add",j,t,{remove_type:"same",validate:!1})}function g(t){return r.isString(t)||(t=""+t),t.length>0&&F.test(t)}var m="1.0.0",h="772C021E-61EA-4B15-8330-B2274E891371",N=!1,y=!1,v=[],E=0,T={keyup:"keyup.app.weight",submit:"submit.app.weight",remove:"click.remove.app.weight",reset:"click.reset.app.weight",destroy:function(){S.hide(),O.clear(),r.arrayClear(v),d(v)},keyRelease:function(t){t.preventDefault();var e=t.currentTarget.value;return g(e)?(R.prop("disabled",!1),R.removeClass("red"),i):(R.prop("disabled",!0),R.addClass("red"),i)},removal:function(t){t.preventDefault();var e=t.currentTarget.getAttribute(C);p(e),O.save(v),d(v)},submission:function(t){t.preventDefault();var e=t.currentTarget[0];R.prop("disabled",!0),R.addClass("red");var n=e.value;return g(n)?(w.val(""),S.hide(),c(n),O.save(v),d(v),i):(S.show(),i)}},O={key:h+"_app.weight_list",clear:function(){sessionStorage.removeItem(this.key)},get:function(){var t=sessionStorage.getItem(this.key);return r.isNull(t)?[]:JSON.parse(t)},save:function(t){r.isArray(t)&&sessionStorage.setItem(this.key,JSON.stringify(t))}},b=null,A=null,_=null,w=null,I=null,R=null,S=null,C=null,j=null,F=/^(?!0+)(?:\d+(?:\.\d)?)$/;return n(function(){u({data_id:"data-weight-id",dom:{forms:{weight:"#weight-post-form"},weight_list:"#weight-list",weight_list_error:"#weight-list-error"},templates:{weight_list:"#template-weight-list"}})}),{init:u,destroy:o,getVersion:s,isValidWeight:g}}(this,this.document,this.jQuery,App.core);