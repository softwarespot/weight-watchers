var App={};App.core=function(n,t,e,r){function i(){x||(NProgress.configure({minimum:.1,showSpinner:!1}),x=!0)}function o(){x=!1}function u(){return k}function s(){return G}function c(){return W}function a(n){d(n)&&(W=n)}function f(n){if(Y(n))for(;n.length>0;)n.pop()}function l(n){return w(n)?n.replace(Q.REGEXP_ESCAPE,"\\$1"):null}function g(n){return Y(n)&&0!==n.length?n[n.length-1]:r}function p(n,t){return H.call(n,t)}function h(n){var t=O(n)?V.call(n):"";return t===B.FUNCTION||t===B.GENERATOR}function d(n){return n===!0||n===!1||b(n)&&V.call(n)===B.BOOLEAN}function m(n){if(I(n)||0===n)return!0;if(Y(n)||w(n))return 0===n.length;for(var t in n)if(p(n,t))return!1;return!0}function E(n){return S(n)&&Q.FLOAT.test(j(n))}function N(n){return S(n)&&Q.INTEGER.test(j(n))}function v(n){return n instanceof e}function y(n){return v(n)&&0!==n.length}function T(n){return null!==n}function A(n){return null===n}function I(n){return A(n)||R(n)}function S(n){return"number"==typeof n||b(n)&&V.call(n)===B.NUMBER}function O(n){var t=typeof n;return!!n&&("object"===t||"function"===t)}function b(n){return!!n&&"object"==typeof n}function P(n){return b(n)?n.constructor&&!p(n.constructor.prototype,"isPrototypeOf")?!1:!0:!1}function w(n){return"string"==typeof n||V.call(n)===B.STRING}function _(n){return w(n)&&Q.FLOAT.test(n)}function F(n){return w(n)&&Q.INTEGER.test(n)}function L(n){return w(n)&&(Q.FLOAT.test(n)||Q.INTEGER.test(n))}function R(n){return n===r}function C(t,e){return S(t)&&S(e)?n.Math.floor(n.Math.random()*e+t):0}function D(t,e){return w(t)?h(n.String.prototype.includes)?t.includes(e):-1!==t.indexOf(e):!1}function j(n){return w(n)?n:I(n)?"":""+n}function U(n,t){return n=j(n),0===n.length?n:I(t)?n.trim():(t="["+l(j(t))+"]",n.replace(RegExp("^"+t+"+|"+t+"+$","g"),""))}var G="1.0.0",k="SoftwareSpot",x=!1,B={BOOLEAN:"[object Boolean]",FUNCTION:"[object Function]",GENERATOR:"[object GeneratorFunction]",NUMBER:"[object Number]",STRING:"[object String]"},M=n.Object.prototype,H=M.hasOwnProperty,V=M.toString,Q={FLOAT:/(?:^(?!-?0+)-?\d+\.\d+$)/,INTEGER:/(?:^(?!-?0+)-?\d+$)/},W=!1,Y=h(n.Array.isArray)?n.Array.isArray:function(n){return V.call(n)===B.ARRAY};return e(function(){i()}),{init:i,destroy:o,getAppName:u,getVersion:s,isDebug:c,setIsDebug:a,arrayClear:f,arrayPeek:g,escapeRegExChars:l,has:p,isArray:Y,isBoolean:d,isEmpty:m,isFloat:E,isFunction:h,isInteger:N,isjQuery:v,isjQueryNotEmpty:y,isNotNull:T,isNull:A,isNullOrUndefined:I,isNumber:S,isObject:O,isObjectLiteral:P,isString:w,isStringFloat:_,isStringInteger:F,isStringNumber:L,isUndefined:R,randomNumber:C,stringContains:D,toString:j,trim:U}}(this,this.document,this.jQuery),App.core.api=function(n,t,e,r,i){function o(){b||(c(),a(),b=!0)}function u(){P=null,b=!1}function s(){return A}function c(){P=e(t)}function a(){NProgress.configure({minimum:.1,showSpinner:!1}),P.ajaxStart(function(){NProgress.start()}),P.ajaxStop(function(){NProgress.done()})}function f(t){if(t.status>=O.OK&&t.status<O.MULTIPLE_CHOICES)return t;var e=new n.Error(t.statusText);throw e.response=t,e}function l(n){var t=n.json();return t?t:n}function g(t,e,i,o){return new n.Promise(function(u,s){if(t=N(t,i),t=v()+T(t),r.isDebug())n.setTimeout(function(){0===r.randomNumber(0,1e3)?s():u()},I);else{var c={method:e,headers:{Accept:"application/json","Content-Type":"application/json"}},a=e===S.PUT||e===S.POST;a&&(n.console.log("fetch() body...",o),c.body=n.JSON.stringify(o)),n.console.log("fetch() in progress...",t,c),n.fetch(t,c).then(f).then(l).then(function(n){u(n)})["catch"](function(){s()})}})}function p(){NProgress.start(),n.setTimeout(NProgress.done,I)}function h(t,e){return new n.Promise(function(n,r){NProgress.start(),g(t,S.DELETE,e).then(function(t){NProgress.done(),n(t)})["catch"](function(n){NProgress.done(),r(n)})})}function d(t,e){return new n.Promise(function(n,r){NProgress.start(),g(t,S.GET,e).then(function(t){NProgress.done(),n(t)})["catch"](function(n){NProgress.done(),r(n)})})}function m(t,e,r){return new n.Promise(function(n,i){NProgress.start(),g(t,S.PUT,e,r).then(function(t){NProgress.done(),n(t)})["catch"](function(n){NProgress.done(),i(n)})})}function E(t,e,r){return new n.Promise(function(n,i){NProgress.start(),g(t,S.POST,e,r).then(function(t){NProgress.done(),n(t)})["catch"](function(n){NProgress.done(),i(n)})})}function N(n,t){if(!r.isString(n)||!r.isObjectLiteral(t))return n;for(var e=r.toString(n),i=/{([^\}]+)}/g;;){var o=i.exec(e);if(r.isNull(o))break;var u=o[1];if(r.has(t,u)&&!r.isUndefined(t[u])){var s=o[0];n=n.replace(s,t[u])}}return n}function v(){return w}function y(n){r.isString(n)&&0!==n.trim().length&&(w=T(n)+"/")}function T(n){return r.isString(n)?r.trim(n,"/"):""}var A="1.0.0",I=750,S={DELETE:"delete",GET:"get",PATCH:"patch",POST:"post",PUT:"put"},O={OK:200,CREATED:201,NO_CONTENT:204,MULTIPLE_CHOICES:300,NOT_MODIFIED:304,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,CONFLICT:409,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501},b=!1,P=null,w="";return e(function(){o({})}),{init:o,destroy:u,getVersion:s,Methods:S,HTTPStatus:O,fetch:p,"delete":h,get:d,put:m,post:E,parseUrl:N,getPrefix:v,setPrefix:y,trimSlashes:T}}(this,this.document,this.jQuery,App.core),App.core.emitter=function(n,t,e,r,i){function o(){return g}function u(){p={}}function s(t){function e(t,e){n.setTimeout(function(){e.apply(t,i)},0)}if(l(t)){var r=p[t];if(f(r)){for(var i=[],o=1,u=arguments.length;u>o;o++)i.push(arguments[o]);r.forEach(function(n){e(this,n)})}}}function c(n,t){if(l(n)&&r.isFunction(t)){var e=p[n];if(f(e)){var i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}function a(n,t){if(l(n)&&r.isFunction(t)){p[n]=p[n]||[];var e=p[n];-1===e.indexOf(t)&&e.push(t)}}function f(n){return r.isArray(n)&&n.length>0}function l(n){return r.isString(n)&&n.trim().length>0}var g="1.0.0",p={};return{getVersion:o,clear:u,emit:s,off:c,on:a}}(this,this.document,this.jQuery,App.core),App.core.events={NAVIGATION_CLICK:"click.navigation.app"},App.navigation=function(n,t,e,r,i){function o(){f(),c(),h=!0}function u(){a(),d=null,m=null,h=!1}function s(){return g}function c(){p&&a(),m.on(E.navigation,E.navigationFn),p=!0}function a(){p&&(m.off(E.navigation,E.navigationFn),p=!1)}function f(){d=e("html, body"),m=e("header").find("a")}function l(n,t){r.isUndefined(t)&&(t=500),d.animate({scrollTop:n.offset().top},t)}var g="1.0.0",p=!1,h=!1,d=null,m=null,E={navigation:"click.app.navigation",navigationFn:function(t){var i=t.currentTarget.getAttribute("href"),o="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",u=new n.RegExp("^#"+o+"$");if(r.emitter.emit(r.events.NAVIGATION_CLICK,i),!u.test(i))return!0;t.preventDefault();var s=e(i);return r.isjQueryNotEmpty(s)?(l(s,500),!1):!1}};return e(function(){o()}),{init:o,destroy:u,getVersion:s}}(this,this.document,this.jQuery,this.App.core),App.user=function(n,t,e,r,i){function o(){p||(f(),c(),r.api.setPrefix("api"),p=!0)}function u(){p=!1}function s(){return l}function c(){g&&a(),r.emitter.on(h.signIn,h.signInFn),g=!0}function a(){g&&(r.emitter.off(h.signInEvent,h.signIn),g=!1)}function f(){}var l="1.0.0",g=!1,p=!1,h={signIn:r.events.NAVIGATION_CLICK,signInFn:function(t){"#signin-section"===t&&n.console.log("Sign in was called, but nothing took place as of yet")}};return e(function(){o()}),{init:o,destroy:u,getVersion:s}}(this,this.document,this.jQuery,App.core),App.weight=function(n,t,e,r,i){function o(n){if(!I){var t={};e.extend(t,n),D=n.dataId,j=n.templates.weightList,f(n.dom),c(),R.prop("disabled",!0),C.addClass("hide"),r.api.setPrefix("api"),b=b[r.randomNumber(0,b.length-1)];var i=r.api.get(T.WEIGHTS_ALL);i.then(function(n){if(k.clear(),E(),r.isDebug())for(var t=0,e=r.randomNumber(5,20);e>t;t++)l(g(1*r.randomNumber(45,200)));else n.forEach(function(n){l(n)});k.set(S),E(!0)}),i["catch"](function(){E(!0)}),I=!0}}function u(){a(),P=null,w=null,_=null,_=null,L=null,R=null,C=null,r.arrayClear(S),I=!1}function s(){return v}function c(){A&&a(),P.on(G.remove,"["+D+"]",G.removeFn),_.on(G.submit,G.submitFn),F.on(G.keyup,G.keyupFn),L.on(G.reset,G.resetFn),A=!0}function a(){A&&(P.off(G.remove,"["+D+"]",G.removeFn),_.off(G.submit,G.submitFn),F.off(G.keyup,G.keyupFn),L.off(G.reset,G.resetFn),A=!1)}function f(n){P=e(t),w=e(n.weightList),_=e(n.forms.weight),F=_.find('input[type="text"]'),L=_.find('[type="reset"]'),R=_.find('input[type="submit"]'),C=e(n.weightListError)}function l(n){return r.isNull(n)?!1:(S.push(n),!0)}function g(n){if(r.isFloat(n)||(n=parseFloat(n)),0===n)return null;var t=moment().unix();return{id:O++,value:n,time:t,username:b,iso8601:moment.unix(t).toISOString()}}function p(n){if(r.isInteger(n)||(n=parseInt(n)),0===n)return null;for(var t=0,e=S.length;e>t;t++){var i=S[t];if(i.id===n)return i.username}return null}function h(n){if(r.isInteger(n)||(n=parseInt(n)),0!==n)for(var t=0,e=S.length;e>t;t++){var i=S[t];if(i.id===n){S.splice(t,1);break}}}function d(n){w.handlebars("add",j,n,{remove_type:"same",validate:!r.isEmpty(n)})}function m(n){return r.stringContains(n,",")?n.replace(",","."):n}function E(n){S=k.get();var t=r.arrayPeek(S);r.isUndefined(t)||(O=t.id),O++,r.isBoolean(n)&&n&&d(S)}function N(n){return r.isString(n)||(n=r.toString(n)),n.trim().length>0&&U.test(n)}var v="1.0.0",y="772C021E-61EA-4B15-8330-B2274E891371",T={USERS:"users",WEIGHT_BY_ID:"weights/{id}",WEIGHT_BY_USERNAME_AND_ID:"users/{username}/weights/{id}",WEIGHTS_ALL:"weights",WEIGHTS_BY_USERNAME:"users/{username}/weights"},A=!1,I=!1,S=[],O=0,b=["softwarespot","squidge","brainbox"],P=null,w=null,_=null,F=null,L=null,R=null,C=null,D=null,j=null,U=/^(?!0+)(?:\d+(?:[.,]\d)?)$/,G={keyup:"keyup.app.weight",remove:"click.remove.app.weight",reset:"click.reset.app.weight",submit:"submit.app.weight",keyupFn:function(n){n.preventDefault();var t=n.currentTarget.value;return N(t)?(R.prop("disabled",!1),i):(R.prop("disabled",!0),i)},resetFn:function(){NProgress.done(),C.addClass("hide"),k.clear(),r.arrayClear(S),d(S)},removeFn:function(t){t.preventDefault();var e=t.currentTarget.getAttribute(D),i=r.api["delete"](T.WEIGHT_BY_USERNAME_AND_ID,{id:e,username:p(e)});i.then(function(n){e=r.isDebug()?e:n.id,h(e),k.set(S),d(S)}),i["catch"](function(){n.alert("Some error occurred with DELETE'in the weight value")})},submitFn:function(t){t.preventDefault();var e=t.currentTarget[0];R.prop("disabled",!0);var o=e.value;if(!N(o))return C.removeClass("hide"),i;F.val(""),C.addClass("hide"),o=m(o);var u=r.api.post(T.WEIGHTS_BY_USERNAME,{username:b},{id:0,value:o,time:0,username:b});u.then(function(n){n=r.isDebug()?g(o):n,l(n)&&(k.set(S),d(S))}),u["catch"](function(){n.alert("Some error occurred with POST'in the weight value")})}},k={key:y+"_app.weight_list",_has:null,clear:function(){try{n.sessionStorage.removeItem(this.key)}catch(t){n.console.log("An error occurred with _session.clear()")}},has:function(){if(this._has)return this._has();var t=n.sessionStorage;return r.isObject(t)&&"key"in t&&"getItem"in t&&"setItem"in t&&"removeItem"in t&&"clear"in t},remove:this.clear,get:function(){var t=null;try{t=n.sessionStorage.getItem(this.key)}catch(e){n.console.log("An error occurred with _session.get()")}return r.isNullOrUndefined(t)?[]:n.JSON.parse(t)},set:function(t){if(r.isArray(t))try{n.sessionStorage.setItem(this.key,n.JSON.stringify(t))}catch(e){n.console.log("An error occurred with _session.set()")}}};return e(function(){o({dataId:"data-weight-id",dom:{forms:{weight:"#weight-post-form"},weightList:"#weight-list",weightListError:"#weight-list-error"},templates:{weightList:"#template-weight-list"}})}),{init:o,destroy:u,getVersion:s,isValidWeight:N}}(this,this.document,this.jQuery,App.core);